<?xml version="1.0"?>
<openerp>
	<data>	
		<!--
        =======================
        Campus architecture
        =======================
        -->
		<record id="ud_campus_action" model="ir.actions.act_window">
			<field name="name">Campus</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">ud.campus</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		<record id="view_campus_form" model="ir.ui.view">
            <field name="name">ud.campus.form</field>
            <field name="model">ud.campus</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Campus">
                	<group colspan="2" col="5">
                	    <field name="name" colspan="2" />                	    
                	    <separator orientation="vertical" />
                	    <field name="is_active"/>
                	</group>
                	<newline />
                	<group colspan="2" col="5">  
                	    <field name="diretor" colspan="2"/>
                	    <field name="diretor_acad" colspan="2"/>              	                    	    
                	</group>
                	<newline />
	                <separator orientation="vertical" />               	
                	<separator string="Outras informações" colspan="4"/>
                	<newline />
               		<field name="description" />
                </form>
            </field>
        </record>
        
        <record id="view_campus_tree" model="ir.ui.view">
            <field name="name">ud.campus.tree</field>
            <field name="model">ud.campus</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Campus">
                    <field name="name"/>
                    
                    <field name="diretor_acad"/>
                    <field name="description"/>
                    <field name="is_active" />
                </tree>
            </field>
        </record>

        <record id="view_campus_filter" model="ir.ui.view">
            <field name="name">Campus</field>
            <field name="model">ud.campus</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Campus">
                    <field name="name"/>
                    <newline />
                    <group expand="0" string="Grupo por...">
                        <filter string="Nome" icon="terp-personal" domain="[]" context="{'group_by':'name'}"/>
	                    <filter string="Ativo" icon="terp-personal" domain="[]" context="{'group_by':'is_active'}"/>
	                    <filter string="Diretor" icon="terp-personal" domain="[]" context="{'group_by':'diretor'}"/>
	                    <filter string="Diretor Acadêmico" icon="terp-personal" domain="[]" context="{'group_by':'diretor_acad'}"/>
                    </group>
                </search>
             </field>
         </record>

		<!--
        =======================
        Polo architecture
        =======================
        -->

		<record id="ud_polo_action" model="ir.actions.act_window">
			<field name="name">Polo</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">ud.polo</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		<record id="view_polo_form" model="ir.ui.view">
            <field name="name">ud.polo.form</field>
	
            <field name="model">ud.polo</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Polo">
                	<group colspan="2" col="5">
                		<field name="name" colspan="3" />
				             		
                	</group>
       	           	<group colspan="2" col="5">
	                	<separator orientation="vertical" />
	                	<field name="campus_id" colspan="3" />
	                	
                	</group>
                	<field name="is_active" />
                	<newline />
                	<separator orientation="vertical" />               	
                	<separator string="Outras informações" colspan="4"/>
                	<newline />
       	           	<field name="localizacao" colspan="2"/>
       	           	<newline />
               		<field name="descricao" />
               		<notebook colspan="6">
               		<page string="Blocos">
                            <field colspan="4" nolabel="1" name="bloco_ids" widget="one2many">
								<tree string="Blocos" >									
									<field name="name" />									
								</tree>
								<form string="Bloco">									
									<field name="name"/>
																	
								</form>								
                            </field>     
                        </page>
                     </notebook>              		
               		</form>
           		 </field>
        </record>
        
        <record id="view_polo_tree" model="ir.ui.view">
            <field name="name">ud.polo.tree</field>
            <field name="model">ud.polo</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Polo">
                    <field name="name"/>
                    <field name="localizacao"/>
                    <field name="is_active" />
                </tree>
            </field>
        </record>

        <record id="view_polo_filter" model="ir.ui.view">
            <field name="name">Polo</field>
            <field name="model">ud.polo</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Pólo">
                    <field name="name"/>
                    <newline />
                    <group expand="0" string="Grupo por...">
                    	<filter string="Nome" icon="terp-personal" domain="[]" context="{'group_by':'name'}" />
                    </group>
                </search>
             </field>
         </record>
         
        <record id="view_bloco_filter" model="ir.ui.view">
            <field name="name">Bloco</field>
            <field name="model">ud.bloco</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Bloco">
                    <field name="name"/>
                    <newline />
                    <group expand="1" string="Grupo por...">
                    	<filter string="Nome" icon="terp-personal" domain="[]" context="{'group_by':'name'}" />
                    </group>
                </search>
             </field>
         </record>
         
         
    	<!--
    	      
         ========================
         Setor architecture
         ========================
         
   		-->
          
          
        <record id="ud_setor_action" model="ir.actions.act_window"> 
	        <field name="name">Setor</field>
	        <field name="type">ir.actions.act_window</field>
	        <field name="res_model">ud.setor</field>
	        <field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		<record id="view_setor_form" model="ir.ui.view">
            <field name="name">ud.setor.form</field>
            <field name="model">ud.setor</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
            <form string="Setor">           
	            <notebook>
	            <page string="Detalhes">           	
	            	 <group colspan="2" col="5" >           		                	               		
	                	<field name="name" colspan="2" />
	                	<field name="sigla" colspan="2"/>
	                	<separator orientation="vertical" />
	                	
	                	<field name="is_active" />
	                	<field name="polo_id" colspan="2"/>
	                	
	                 </group>
	                <newline/>
	                	<separator string="Outras informações" colspan="4"/>
	                	<newline />
	               		<field name="descricao" />                		                	
		         </page>
		         </notebook>	            
	            </form>
	        </field>	        
	    </record>
	   
	    
	    <record id="view_setor_tree" model="ir.ui.view">
	    	<field name="name">ud.setor.tree</field>
            <field name="model">ud.setor</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Setor">
                    <field name="name" />
                    <field name="polo_id"/>
                    <field name="descricao"/>
                    <field name="sigla"/>
                    <field name="is_active" />
                    
                </tree>
            </field>
	    </record>
	    
	    <record id="view_setor_filter" model="ir.ui.view">
            <field name="name">Setor</field>
            <field name="model">ud.setor</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Setor">
                    <field name="name"/>
                    <newline />
                    <group expand="0" string="Filtrar por...">
	                    <filter string="Nome" icon="terp-personal" domain="[]" context="{'group_by':'name'}"/>
	                    <filter string="Polo" icon="terp-personal" domain="[]" context="{'group_by':'polo_id'}"/>
	                    <filter string="Sigla" icon="terp-personal" domain="[]" context="{'group_by':'sigla'}"/>
	                    <filter string="Ativo" icon="terp-personal" domain="[]" context="{'group_by':'is_active'}"/>	                    
                    </group>
                </search>
             </field>
         </record>


		<!--
        =======================
        Curso architecture
        =======================
        -->
		<record id="ud_curso_action" model="ir.actions.act_window">
			<field name="name">Curso</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">ud.curso</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		<record id="view_curso_form" model="ir.ui.view">
            <field name="name">ud.curso.form</field>
            <field name="model">ud.curso</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Curso">
                	<group colspan="2" col="5">
                		<field name="name" colspan="2" />
                		<field name="polo_id"/>
	                	<separator orientation="vertical" />
                		<field name="is_active" />
                		<field name="coordenador" colspan="2"/>
                	</group>
               		<separator string="Outras informações" colspan="6" />
    	           	<newline />
               		<field name="description" />
               		<notebook colspan="6">
               		<page string="Disciplinas" >
                            <field colspan="4" nolabel="1" name="disciplina_ids" widget="one2many">
								<tree string="Disciplinas" >
									<field name="codigo" />
									<field name="name" />
									<field name="ch" />
									<field name="descricao" />
								</tree>
								<form string="Disciplina">
									<field name="codigo" />
									<field name="name" />
									<field name="ch" />
									<field name="descricao"/>
								</form>								
                            </field>     
                        </page>
                     </notebook>
                </form>
            </field>
        </record>
        
        <record id="view_curso_tree" model="ir.ui.view">
            <field name="name">ud.curso.tree</field>
            <field name="model">ud.curso</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Curso">
                    <field name="name"/>
                    <field name="coordenador"/>
                    <field name="description" />
                    <field name="is_active" />
                </tree>
            </field>
        </record>

        <record id="view_curso_filter" model="ir.ui.view">
            <field name="name">Curso</field>
            <field name="model">ud.curso</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Curso">
                    <field name="name"/>
                    <newline />
                    <group expand="0" string="Grupo por...">
	                    <filter string="Nome" icon="terp-personal" domain="[]" context="{'group_by':'name'}"/>
	                    <filter string="Coordenador" icon="terp-personal" domain="[]" context="{'group_by':'coordenador'}"/>
	                    <filter string="Ativo" icon="terp-personal" domain="[]" context="{'group_by':'is_active'}"/>
                    </group>
                </search>
             </field>
         </record>
         
        <!--
        =======================
        		ESPAÇO
        =======================
        -->
						
		<record id="ud_espaco_form" model="ir.ui.view">
			<field name="name">Formulário de cadastro de espaço</field>
			<field name="model">ud.espaco</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
                <form string="Espaço">
                	<field name="name"/>
					<field name="capacidade" />                	               	
					<field name="local_polo" on_change="limpa_bloco()"/>
					<field name="local_bloco_polo" domain="[('ud_bloco_ids','=',local_polo)]" />               	
					<field name="permite_reserva" />
					<group string="Outras Informações" colspan="4">
						<field name="informacoes_adicionais" />	
					</group>			          	
                </form>
			</field>
		</record>
		
		<record id="ud_espaco_tree" model="ir.ui.view">
            <field name="name">Visualizaçao dos Espaços</field>
            <field name="model">ud.espaco</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Espaço">
                    <field name="name"/>
                    <field name="local_polo"/>
					<field name="permite_reserva" />                    
                </tree>
            </field>
        </record>
        
        <record id="ud_espaco_action" model="ir.actions.act_window">
			<field name="name">Espaço</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">ud.espaco</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" ref="ud_espaco_tree"/>
		</record>
  
		


		<!--
        =======================
        Pessoas architecture
        =======================
        -->
        
		<record id="view_employee_form" model="ir.ui.view">
            <field name="name">ud.employee.form</field>
            <field name="model">ud.employee</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Employee" version="7.0">                              
                    <group colspan="4" col="8">
                        <group colspan="6" col="6">
                        <field colspan="6" name="name" string="Nome"/>
                        <field colspan="6" name="login" string="Login" groups="base.admin_ud"/>
                        <field name="new_password" password="True" string="Senha" required="1"/>
                        <field name="confirm_senha" password="True"/>
                                               
                        
                        <newline/>
                        </group>
                        <group colspan="2" col="1">
                          <field name="image" widget='image' nolabel="1" class="oe_left oe_avatar"/>
                        </group>
                    </group>
                    <notebook colspan="6">
                        <page string="Informações pessoais">
                         <group col="4" colspan="6">
                         <separator colspan="6" string="Identificações Sociais"/>  
                            <group col="2" colspan="2">                                                            
                                <field name="cpf" class="cpf"/>
                                <field name="rg"/>
                                <field name="orgaoexpedidor" />
                                <field name="birthday" class="birthday"/>
                            </group>
                            <group col="2" colspan="2" >
                                <field name="gender"/>
                                <field name="nacionalidade"/>
                                <field name="marital"/>
                            </group>
                          </group>
                            <group col="4" colspan="6">
	                            <separator string="Outras informações" colspan="6"/>
   	                            <group col="2" colspan="2" >
   	                                <field name="rua"/>
	                                <field name="cidade" colspan="2"/>
	                                
	                                <field name="bairro" />
	                                <field name="estado"/>
	                            </group>
	                            <group col="2" colspan="2">
	                            	<field name="work_phone" class="work_phone"/>
	                                <field name="mobile_phone" class="mobile_phone"/>
	                                <field name="work_email" widget="email"/>
	                                <field name="polo_id"/>	                                	                             
	                            </group>
	                        </group>
                        </page>
                        <page string="Papéis">
							 <field name="papel_ids" colspan="4" nolabel="1" widget="one2many">
							<tree string="Papéis">							    
							    <field name="tipo" />
							    <field name="ud_setores" />
							    <field name="ud_cursos" />
							    <field name="matricula"/>
							    <field name="data_validade"/>	   
							</tree>
							<form string="Papéis" version="7.0">
							  <group colspan="4" col="4">
							    <field name="tipo" />
							    <field name="is_bolsista" attrs="{'invisible':[('tipo','!=','a')]}"/>
							    <field name="ud_setores" />
							    <field name="ud_cursos"/>
							    <field name="matricula"/>
							    <field name="tipo_bolsa" attrs="{'invisible':[('is_bolsista','=',False)],'required':[('is_bolsista','=',True)]}"/>
							    <field name="valor_bolsa" class="valor_bolsa" attrs="{'invisible':[('is_bolsista','=',False)],'required':[('is_bolsista','=',True)]}"/>
							    <field name="tipo_docente" attrs="{'invisible':[('tipo','!=','p')],'required':[('tipo','=', 'p')]}"/>
							    
							    <field name="data_validade" class="data_validade"/>							    
							  </group>
							  							  	   
							</form>
							</field>
                        </page>
                        <page string="Notas" >
                            <field colspan="4" nolabel="1" name="notes"/>
                        </page>
                        <page string="Dados Bancários" >
                            <field colspan="4" nolabel="1" name="dados" widget="one2many">
	                            <tree string="Dados Bancários">
	                                <field name="banco" />
	                                <field name="agencia" />
	                                <field name="conta" />
	                                <field name="tipo_conta" />
	                            </tree>
	                            <form string="Dados Bancários" version="7.0">
	                              <group colspan="4" col="4">
	                                <field name="banco" />
	                                <field name="agencia" class="agencia"/>
	                                <field name="conta" class="conta"/>
	                                <field name="tipo_conta" />
	                             </group> 
	                            </form>
                            </field>
                        </page>
                        <page string="Grupos de Usuário" >
                            <field name="groups_id" />
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_employee_tree" model="ir.ui.view">
            <field name="name">ud.employee.tree</field>
            <field name="model">ud.employee</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Employees">
                    <field name="name" string="Nome"/>
                    <field name="mobile_phone"/>
                    <field name="work_email"/>
                    <field name="cpf"/>
                </tree>
            </field>
        </record>
       

		<record id="ud_pessoa_action" model="ir.actions.act_window">
			<field name="name">Pessoas</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">ud.employee</field>
			<field name="view_type">form</field>
		</record>
		
		<record id="view_pessoas_filter" model="ir.ui.view">
            <field name="name">Setor</field>
            <field name="model">ud.employee</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Setor">
                    <field name="name"/>
                    <newline />
                    <group expand="0" string="Filtrar por...">
	                    <filter string="Polo" icon="terp-personal" domain="[]" context="{'group_by':'polo_id'}"/>
	                    <filter string="CPF" icon="terp-personal" domain="[]" context="{'group_by':'cpf'}"/>
                    </group>
                </search>
             </field>
         </record>

		

		<menuitem name="Universidade Digital" id="menu_point_root"
			sequence="0" icon="terp-partner"
			web_icon="imagens/unidig.jpg" />
		<menuitem name="Núcleo" id="menu_nucleo" parent="menu_point_root"
			sequence="1" icon="terp-partner" groups="base.admin_ud"/>
		<menuitem action="ud_campus_action" id="menu_campus" parent="menu_nucleo"
			sequence="2" />
		<menuitem action="ud_polo_action" id="menu_polo" parent="menu_nucleo"
			sequence="3" />
		<menuitem action="ud_curso_action" id="menu_curso" parent="menu_nucleo"
			sequence="4" />
		<menuitem action="ud_setor_action" id="menu_setor" parent="menu_nucleo"
			sequence="5" />
		<menuitem action="ud_espaco_action" id="menu_espaco" parent="menu_nucleo"
		    sequence="6"/>
		<menuitem action="ud_pessoa_action" id="menu_users"
			parent="menu_nucleo" sequence="7" />

	</data>
</openerp>
